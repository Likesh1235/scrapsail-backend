# =============================
# ScrapSail MySQL Configuration
# =============================
# Use environment variables for production security
# Set these as environment variables before running:
# DB_HOST, DB_PORT, DB_NAME, DB_USERNAME, DB_PASSWORD
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:scrapsail}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =============================
# JPA + Hibernate Settings
# =============================
# 'update' mode: Creates tables if missing, updates schema if needed
# This will fix all missing column errors automatically
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true
# Enable transaction logging
logging.level.org.springframework.transaction=DEBUG
# Enable JDBC logging
logging.level.org.springframework.jdbc=DEBUG
# Enable Hibernate logging
logging.level.org.hibernate.engine.transaction=DEBUG

# =============================
# Server Port
# =============================
server.port=8080

# Disable debug output
debug=false

# =============================
# Web Application Type
# =============================
spring.main.web-application-type=servlet

# =============================
# File Upload Settings
# =============================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# =============================
# Logging Configuration
# =============================
# Development mode: Set LOG_LEVEL=DEBUG for detailed logs
# Production mode: Set LOG_LEVEL=INFO or WARN (default: INFO)
logging.level.root=${LOG_LEVEL:INFO}
logging.level.org.springframework=${LOG_LEVEL:INFO}
logging.level.com.scrapsail=${LOG_LEVEL:INFO}
logging.level.org.hibernate=${LOG_LEVEL:INFO}
logging.level.org.hibernate.SQL=${HIBERNATE_SQL_LOG:WARN}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${HIBERNATE_BINDER_LOG:WARN}
logging.level.org.springframework.security=WARN

# =============================
# Error Messages Configuration
# =============================
# Development: Set INCLUDE_STACKTRACE=true for detailed errors
# Production: Set INCLUDE_STACKTRACE=false (default: false)
server.error.include-message=${INCLUDE_ERROR_MESSAGE:on_param}
server.error.include-binding-errors=${INCLUDE_BINDING_ERRORS:on_param}
server.error.include-stacktrace=${INCLUDE_STACKTRACE:never}

# =============================
# Email Configuration (Gmail SMTP)
# =============================
# Use environment variables for production security
# Set these as environment variables before running:
# MAIL_HOST, MAIL_PORT, MAIL_USERNAME, MAIL_PASSWORD
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=${MAIL_HOST:smtp.gmail.com}
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
