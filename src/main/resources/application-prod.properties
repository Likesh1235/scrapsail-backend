# =============================
# ScrapSail MySQL Configuration (Production)
# =============================
# Railway automatically provides DATABASE_URL when you add a MySQL service
# RailwayDatabaseConfig converts Railway's DATABASE_URL to JDBC format automatically
# You can also set MYSQL_URL explicitly (in JDBC format)
spring.datasource.url=${MYSQL_URL:${DATABASE_URL:jdbc:mysql://localhost:3306/scrapsail}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection pool settings for Railway
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=0
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.initialization-fail-timeout=-1

# =============================
# JPA + Hibernate
# =============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
# MySQLDialect is auto-detected, no need to specify explicitly
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false

# Server Configuration - Railway sets PORT automatically
server.port=${PORT:8080}
spring.main.web-application-type=servlet


